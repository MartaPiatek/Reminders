

{
  "os": "linux",
  "jdk": "oraclejdk8",
  "dist": "trusty",
  "sudo": false,
  "group": "stable",
  "android": {
    "components": [
      "tools",
      "platform-tools",
      "build-tools-$ANDROID_BUILD_TOOLS_VERSION",
      "android-$ANDROID_API_LEVEL",
      "android-$EMULATOR_API_LEVEL",
      "extra-google-m2repository",
      "extra-android-m2repository",
      "tools",
      "addon-google_apis-google-$ANDROID_API_LEVEL",
      "addon-google_apis-google-$EMULATOR_API_LEVEL",
      "- sys-img-armeabi-v7a-$EMULATOR_API_LEVEL"
    ]
  },
  "language": "android",
  "licenses": [
    "android-sdk-preview-license-.+",
    "android-sdk-license-.+",
    "google-gdk-license-.+"
  ],
  "global_env": "ANDROID_API_LEVEL=26 EMULATOR_API_LEVEL=22 ANDROID_BUILD_TOOLS_VERSION=26.0.2 ANDROID_ABI=armeabi-v7a ANDROID_TAG=google_apis ADB_INSTALL_TIMEOUT=20",
  "before_script": [
    "echo no | android create avd --force -n test -t \"android-$EMULATOR_API_LEVEL\" --abi $ANDROID_ABI --tag $ANDROID_TAG",
    "emulator -avd test -no-window &",
    "android-wait-for-emulator",
    "adb shell input keyevent 82 &"
  ],
  "before_install": [
    "chmod +x gradlew"
  ]
}

